<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body class=" loading">
  <section id="header">
    <fieldset id="env-actions">
      <legend>Environment / Actions</legend>
      <select id="environment">
        <option value="custom"></option>
        <option value="prod">Prod</option>
        <option value="prod-preview">Prod (preview)</option>
        <option value="stage">Stage</option>
        <option value="stage-preview">Stage (preview)</option>
        <option value="dev">Dev</option>
        <option value="dev-preview">Dev (preview)</option>
        <option value="local">Local</option>
      </select>
      <button id="run-poll" title="Poll for changes of remote settings">Poll server</button>
      <button id="clear-all-data" title="Clear every local data">Clear ALL local data</button>
    </fieldset>
    <fieldset id="header-status"">
      <legend>Status</legend>
      <div id="polling-error" class="error"></div>
      <dl>
        <dt>URL</dt>
        <dd><a id="polling-url"></a></dd>
        <dt>Server timestamp</dt>
        <dd id="human-server-timestamp">N/A</dd>
        <dd id="server-timestamp">N/A</dd>
        <dt>Local timestamp</dt>
        <dd id="human-local-timestamp">N/A</dd>
        <dd id="local-timestamp">N/A</dd>
        <dt>Last check</dt>
        <dd id="last-check">N/A</dd>
      </dl>
    </fieldset>
    <fieldset id="sync-history">
      <legend>Sync History</legend>
      <ul></ul>
    </fieldset>
  </section>
  <section id="status">
    <table>
      <thead>
        <tr>
          <th>Collection</th>
          <th>Last Check</th>
          <th>Server Timestamp</th>
          <th>Local Timestamp</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </section>
</body>

<template id="collection-status-tpl">
  <tr class="collection-status">
    <td>
      <a class="url"></a>
      <div class="error"></div>
    </td>
    <td class="last-check"></td>
    <td class="server">
      <span class="human-server-timestamp"></span>
      <span class="server-timestamp"></span>
    </td>
    <td class="local">
      <span class="human-local-timestamp"></span>
      <span class="local-timestamp"></span>
    </td>
    <td class="actions">
      <button class="sync action" title="Force sync"><img src="./refresh.svg" width="28px" height="28px" /></button>
      <button class="clear-data action" title="Clear local data"><img src="./delete.svg" width="28px" height="28px" /></button>
    </td>
  </tr>
</template>

<template id="sync-history-entry-tpl">
  <li>
    <span class="status"></span>
    <span class="datetime"></span>
  </li>
</template>

<script type="text/javascript" src="script.js"></script>

</html>
